{"version":3,"file":"LayoutPlugin.js","sourceRoot":"","sources":["../../../src/lib/output/plugins/LayoutPlugin.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,2BAA2C,eAAe,CAAC,CAAA;AAC3D,uBAAwB,WAAW,CAAC,CAAA;AAUpC;IAAkC,gCAAiB;IAAnD;QAAkC,8BAAiB;IAmBnD,CAAC;IAdG,iCAAU,GAAV;QACI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,kBAAS,CAAC,GAAG,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;IACrE,CAAC;IAQO,wCAAiB,GAAzB,UAA0B,IAAc;QACpC,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,WAAW,EAAE,CAAC;QACrF,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IAnBL;QAAC,sBAAS,CAAC,EAAC,IAAI,EAAC,QAAQ,EAAC,CAAC;oBAAA;IAoB3B,mBAAC;AAAD,CAAC,AAnBD,CAAkC,8BAAiB,GAmBlD;AAnBY,oBAAY,eAmBxB,CAAA","sourcesContent":["import {Component, RendererComponent} from \"../components\";\nimport {PageEvent} from \"../events\";\n\n\n/**\n * A plugin that wraps the generated output with a layout template.\n *\n * Currently only a default layout is supported. The layout must be stored\n * as ´layouts/default.hbs´ in the theme directory.\n */\n@Component({name:\"layout\"})\nexport class LayoutPlugin extends RendererComponent\n{\n    /**\n     * Create a new LayoutPlugin instance.\n     */\n    initialize() {\n        this.listenTo(this.owner, PageEvent.END, this.onRendererEndPage);\n    }\n\n\n    /**\n     * Triggered after a document has been rendered, just before it is written to disc.\n     *\n     * @param page  An event object describing the current render operation.\n     */\n    private onRendererEndPage(page:PageEvent) {\n        var layout = this.owner.theme.resources.layouts.getResource('default').getTemplate();\n        page.contents = layout(page);\n    }\n}\n"]}