{"version":3,"file":"typescript.js","sourceRoot":"","sources":["../../../../src/lib/utils/options/sources/typescript.ts"],"names":[],"mappings":"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","sourcesContent":["import * as ts from \"typescript\";\n\nimport {Component} from \"../../component\";\nimport {OptionsComponent} from \"../options\";\nimport {IOptionDeclaration, ParameterScope, ParameterType, ParameterHint} from \"../declaration\";\n\n\n@Component({name:\"options:typescript\"})\nexport class TypeScriptSource extends OptionsComponent\n{\n    private declarations:IOptionDeclaration[];\n\n    /**\n     * A list of all TypeScript parameters that should be ignored.\n     */\n    static IGNORED:string[] = [\n        'out', 'version', 'help',\n        'watch', 'declaration', 'mapRoot',\n        'sourceMap', 'inlineSources', 'removeComments'\n        // Ignore new TypeScript 2.0 options until typedoc can't manage it\n        , 'baseUrl', 'paths', 'lib', 'strictNullChecks', 'noImplicitThis',\n        'traceResolution', 'noUnusedParameters', 'noUnusedLocals',\n        'skipLibCheck', 'declarationDir', 'types', 'typeRoots'\n    ];\n\n\n    initialize() {\n        var ignored = TypeScriptSource.IGNORED;\n        this.declarations = [];\n\n        for (var declaration of ts.optionDeclarations) {\n            if (ignored.indexOf(declaration.name) === -1) {\n                this.addTSOption(declaration);\n            }\n        }\n    }\n\n\n    /**\n     * Return all option declarations emitted by this component.\n     */\n    getOptionDeclarations():IOptionDeclaration[] {\n        return this.declarations;\n    }\n\n\n    private addTSOption(option:ts.CommandLineOption) {\n        var param:IOptionDeclaration = {\n            name:      option.name,\n            short:     option.shortName,\n            help:      option.description ? option.description.key : null,\n            scope:     ParameterScope.TypeScript,\n            component: this.componentName\n        };\n\n        switch (option.type) {\n            case \"number\":\n                param.type = ParameterType.Number;\n                break;\n            case \"boolean\":\n                param.type = ParameterType.Boolean;\n                break;\n            case \"string\":\n                param.type = ParameterType.String;\n                break;\n            default:\n                param.type = ParameterType.Map;\n                param.map = option.type;\n                if (option['error']) {\n                    var error = ts.createCompilerDiagnostic(option['error']);\n                    param.mapError = ts.flattenDiagnosticMessageText(error.messageText, ', ');\n                }\n        }\n\n        switch (option.paramType) {\n            case ts.Diagnostics.FILE:\n                param.hint = ParameterHint.File;\n                break;\n            case ts.Diagnostics.DIRECTORY:\n                param.hint = ParameterHint.Directory;\n                break;\n        }\n\n        this.declarations.push(param);\n    }\n}\n"]}