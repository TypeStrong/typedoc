{"version":3,"file":"ReflectionCategory.js","sourceRoot":"","sources":["../../../src/lib/models/ReflectionCategory.ts"],"names":[],"mappings":";;AASA;IAwBI,4BAAY,KAAa;QAAzB,iBAIC;QAnBD,aAAQ,GAAiB,EAAE,CAAC;QAgBxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QAEnB,IAAI,CAAC,0BAA0B,GAAG,CAAC,cAAM,OAAA,KAAI,CAAC,6BAA6B,EAAE,EAApC,CAAoC,CAAC,CAAC;IACnF,CAAC;IAKO,0DAA6B,GAArC;QACI,IAAI,gBAAgB,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;YACxB,gBAAgB,GAAG,gBAAgB,IAAI,KAAK,CAAC,cAAc,CAAC;QAChE,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,gBAAgB,CAAC;IAC5B,CAAC;IAMD,qCAAQ,GAAR;QACI,IAAM,MAAM,GAAG;YACX,KAAK,EAAE,IAAI,CAAC,KAAK;SACpB,CAAC;QAEF,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAChB,IAAM,UAAQ,GAAU,EAAE,CAAC;YAC3B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;gBACxB,UAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC;YAEH,MAAM,CAAC,UAAU,CAAC,GAAG,UAAQ,CAAC;QAClC,CAAC;QAED,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IACL,yBAAC;AAAD,CAAC,AA9DD,IA8DC;AA9DY,gDAAkB","sourcesContent":["import { Reflection } from './reflections/abstract';\n\n/**\n * A category of reflections.\n *\n * Reflection categories are created by the ´CategoryPlugin´ in the resolving phase\n * of the dispatcher. The main purpose of categories is to be able to more easily\n * render human readable children lists in templates.\n */\nexport class ReflectionCategory {\n    /**\n     * The title, a string representation of this category.\n     */\n    title: string;\n\n    /**\n     * All reflections of this category.\n     */\n    children: Reflection[] = [];\n\n    /**\n     * Do all children of this category have a separate document?\n     *\n     * A bound representation of the ´ReflectionCategory.getAllChildrenHaveOwnDocument´\n     * that can be used within templates.\n     */\n    allChildrenHaveOwnDocument: Function;\n\n    /**\n     * Create a new ReflectionCategory instance.\n     *\n     * @param title The title of this category.\n     */\n    constructor(title: string) {\n        this.title = title;\n\n        this.allChildrenHaveOwnDocument = (() => this.getAllChildrenHaveOwnDocument());\n    }\n\n    /**\n     * Do all children of this category have a separate document?\n     */\n    private getAllChildrenHaveOwnDocument(): boolean {\n        let onlyOwnDocuments = true;\n        this.children.forEach((child) => {\n            onlyOwnDocuments = onlyOwnDocuments && child.hasOwnDocument;\n        });\n\n        return onlyOwnDocuments;\n    }\n\n    /**\n     * Return a raw object representation of this reflection category.\n     * @deprecated Use serializers instead\n     */\n    toObject(): any {\n        const result = {\n            title: this.title\n        };\n\n        if (this.children) {\n            const children: any[] = [];\n            this.children.forEach((child) => {\n                children.push(child.id);\n            });\n\n            result['children'] = children;\n        }\n\n        return result;\n    }\n}\n"]}